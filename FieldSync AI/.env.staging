# FieldSync AI Staging Environment Configuration
# This file contains staging configurations for testing production-like settings

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

NODE_ENV=staging
PORT=3000
HOST=0.0.0.0
APP_NAME=FieldSync AI Staging
APP_VERSION=1.0.0

# =============================================================================
# DATABASE CONFIGURATION (AWS RDS Staging)
# =============================================================================

DB_HOST=fieldsync-ai-staging.cluster-xxxxxxxxx.us-east-1.rds.amazonaws.com
DB_PORT=5432
DB_NAME=fieldsync_ai_staging
DB_USER=fieldsync_staging
DB_PASSWORD=CHANGE_THIS_SECURE_DATABASE_PASSWORD_FOR_STAGING
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000

# Database SSL
DB_SSL=true
DB_SSL_REJECT_UNAUTHORIZED=true

# =============================================================================
# REDIS CONFIGURATION (AWS ElastiCache Staging)
# =============================================================================

REDIS_HOST=fieldsync-ai-staging.xxxxxx.cache.amazonaws.com
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_THIS_SECURE_REDIS_PASSWORD_FOR_STAGING
REDIS_DB=0
REDIS_TTL=3600

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

JWT_SECRET=CHANGE_THIS_TO_A_SECURE_JWT_SECRET_FOR_STAGING_ENVIRONMENT
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

BCRYPT_ROUNDS=12

SESSION_SECRET=CHANGE_THIS_TO_A_SECURE_SESSION_SECRET_FOR_STAGING
SESSION_MAX_AGE=86400000

# =============================================================================
# RATE LIMITING (Moderate for staging)
# =============================================================================

RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=75

AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_REQUESTS=5

QUERY_RATE_LIMIT_WINDOW_MS=60000
QUERY_RATE_LIMIT_MAX_REQUESTS=8

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

CORS_ORIGIN=https://staging.fieldsync.ai,https://staging-app.fieldsync.ai
CORS_CREDENTIALS=true

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

LOG_LEVEL=info
LOG_FILE_MAX_SIZE=30m
LOG_FILE_MAX_FILES=14d
LOG_FILE_DATE_PATTERN=YYYY-MM-DD

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================

MAX_FILE_SIZE=20971520
MAX_FILES_PER_REQUEST=5
UPLOAD_PATH=/app/uploads

ALLOWED_FILE_TYPES=csv,xlsx,xls,json,pdf

# =============================================================================
# EMAIL CONFIGURATION (Test SMTP)
# =============================================================================

SMTP_HOST=email-smtp.us-east-1.amazonaws.com
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=CHANGE_THIS_TO_YOUR_SES_SMTP_USERNAME_FOR_STAGING
SMTP_PASS=CHANGE_THIS_TO_YOUR_SES_SMTP_PASSWORD_FOR_STAGING

FROM_EMAIL=staging@fieldsync.ai
FROM_NAME=FieldSync AI Staging

# =============================================================================
# EXTERNAL INTEGRATIONS (Test/Sandbox)
# =============================================================================

GOOGLE_CLIENT_ID=CHANGE_THIS_TO_YOUR_GOOGLE_CLIENT_ID_FOR_STAGING
GOOGLE_CLIENT_SECRET=CHANGE_THIS_TO_YOUR_GOOGLE_CLIENT_SECRET_FOR_STAGING
GOOGLE_REDIRECT_URI=https://staging-api.fieldsync.ai/api/integrations/google/callback

SHOPIFY_API_KEY=CHANGE_THIS_TO_YOUR_SHOPIFY_API_KEY_FOR_STAGING
SHOPIFY_API_SECRET=CHANGE_THIS_TO_YOUR_SHOPIFY_API_SECRET_FOR_STAGING

STRIPE_SECRET_KEY=sk_test_CHANGE_THIS_TO_YOUR_TEST_STRIPE_SECRET_KEY
STRIPE_WEBHOOK_SECRET=whsec_CHANGE_THIS_TO_YOUR_TEST_WEBHOOK_SECRET

QUICKBOOKS_CLIENT_ID=CHANGE_THIS_TO_YOUR_QUICKBOOKS_CLIENT_ID_FOR_STAGING
QUICKBOOKS_CLIENT_SECRET=CHANGE_THIS_TO_YOUR_QUICKBOOKS_CLIENT_SECRET_FOR_STAGING

# =============================================================================
# AI & ANALYTICS CONFIGURATION
# =============================================================================

OPENAI_API_KEY=sk-CHANGE_THIS_TO_YOUR_OPENAI_API_KEY_FOR_STAGING
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=1500

ANALYTICS_BATCH_SIZE=200
ANALYTICS_FLUSH_INTERVAL=20000

# =============================================================================
# MONITORING & HEALTH CHECKS
# =============================================================================

HEALTH_CHECK_TIMEOUT=8000
HEALTH_CHECK_INTERVAL=45000

METRICS_ENABLED=true
METRICS_RETENTION_DAYS=30

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================

SSL_ENABLED=true
SSL_CERT_PATH=/app/ssl/cert.pem
SSL_KEY_PATH=/app/ssl/key.pem
SSL_CA_PATH=/app/ssl/ca.pem

FORCE_HTTPS=true

# =============================================================================
# CLOUD STORAGE (AWS S3 Staging)
# =============================================================================

AWS_ACCESS_KEY_ID=CHANGE_THIS_TO_YOUR_AWS_ACCESS_KEY_FOR_STAGING
AWS_SECRET_ACCESS_KEY=CHANGE_THIS_TO_YOUR_AWS_SECRET_KEY_FOR_STAGING
AWS_REGION=us-east-1
AWS_S3_BUCKET=fieldsync-ai-staging-uploads

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

REQUEST_TIMEOUT=45000

CONNECTION_POOL_MIN=5
CONNECTION_POOL_MAX=30

CACHE_TTL=300
CACHE_MAX_SIZE=500

# =============================================================================
# STAGING SECURITY
# =============================================================================

TRUST_PROXY=true
SECURE_COOKIES=true
SAME_SITE_COOKIES=strict

# =============================================================================
# STAGING PERFORMANCE
# =============================================================================

COMPRESSION_ENABLED=true
STATIC_CACHE_MAX_AGE=86400

# =============================================================================
# STAGING MONITORING
# =============================================================================

ERROR_REPORTING_ENABLED=true
PERFORMANCE_MONITORING_ENABLED=true

# =============================================================================
# STAGING SPECIFIC SETTINGS
# =============================================================================

# Debug Mode (more verbose for staging)
DEBUG_MODE=true

# Mock External APIs (for testing)
MOCK_EXTERNAL_APIS=false

# Database Seeding
SEED_DATABASE=true

# Test Data Configuration
ENABLE_TEST_ROUTES=true
TEST_USER_EMAIL=test@fieldsync.ai
TEST_ORG_NAME=Test Organization

# Feature Flags
ENABLE_BETA_FEATURES=true
ENABLE_EXPERIMENTAL_FEATURES=false