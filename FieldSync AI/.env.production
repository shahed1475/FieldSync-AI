# FieldSync AI Production Environment Configuration
# This file contains production-ready configurations
# IMPORTANT: Update all placeholder values before deployment

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

NODE_ENV=production
PORT=3000
HOST=0.0.0.0
APP_NAME=FieldSync AI
APP_VERSION=1.0.0

# =============================================================================
# DATABASE CONFIGURATION (AWS RDS)
# =============================================================================

DB_HOST=fieldsync-ai-prod.cluster-xxxxxxxxx.us-east-1.rds.amazonaws.com
DB_PORT=5432
DB_NAME=fieldsync_ai_prod
DB_USER=fieldsync_prod
DB_PASSWORD=CHANGE_THIS_SECURE_DATABASE_PASSWORD_IN_PRODUCTION
DB_POOL_MIN=5
DB_POOL_MAX=50
DB_POOL_ACQUIRE=60000
DB_POOL_IDLE=10000

# Database SSL (required for production)
DB_SSL=true
DB_SSL_REJECT_UNAUTHORIZED=true

# =============================================================================
# REDIS CONFIGURATION (AWS ElastiCache)
# =============================================================================

REDIS_HOST=fieldsync-ai-prod.xxxxxx.cache.amazonaws.com
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_THIS_SECURE_REDIS_PASSWORD_IN_PRODUCTION
REDIS_DB=0
REDIS_TTL=3600

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

JWT_SECRET=CHANGE_THIS_TO_A_VERY_LONG_SECURE_JWT_SECRET_AT_LEAST_256_BITS_LONG_FOR_PRODUCTION
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

BCRYPT_ROUNDS=14

SESSION_SECRET=CHANGE_THIS_TO_A_SECURE_SESSION_SECRET_FOR_PRODUCTION
SESSION_MAX_AGE=86400000

# =============================================================================
# RATE LIMITING (Stricter for production)
# =============================================================================

RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=50

AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_REQUESTS=3

QUERY_RATE_LIMIT_WINDOW_MS=60000
QUERY_RATE_LIMIT_MAX_REQUESTS=5

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

CORS_ORIGIN=https://app.fieldsync.ai,https://fieldsync.ai
CORS_CREDENTIALS=true

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

LOG_LEVEL=warn
LOG_FILE_MAX_SIZE=50m
LOG_FILE_MAX_FILES=30d
LOG_FILE_DATE_PATTERN=YYYY-MM-DD

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================

MAX_FILE_SIZE=52428800
MAX_FILES_PER_REQUEST=10
UPLOAD_PATH=/app/uploads

ALLOWED_FILE_TYPES=csv,xlsx,xls,json,pdf

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================

SMTP_HOST=email-smtp.us-east-1.amazonaws.com
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=CHANGE_THIS_TO_YOUR_SES_SMTP_USERNAME
SMTP_PASS=CHANGE_THIS_TO_YOUR_SES_SMTP_PASSWORD

FROM_EMAIL=noreply@fieldsync.ai
FROM_NAME=FieldSync AI

# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================

GOOGLE_CLIENT_ID=CHANGE_THIS_TO_YOUR_GOOGLE_CLIENT_ID
GOOGLE_CLIENT_SECRET=CHANGE_THIS_TO_YOUR_GOOGLE_CLIENT_SECRET
GOOGLE_REDIRECT_URI=https://api.fieldsync.ai/api/integrations/google/callback

SHOPIFY_API_KEY=CHANGE_THIS_TO_YOUR_SHOPIFY_API_KEY
SHOPIFY_API_SECRET=CHANGE_THIS_TO_YOUR_SHOPIFY_API_SECRET

STRIPE_SECRET_KEY=sk_live_CHANGE_THIS_TO_YOUR_LIVE_STRIPE_SECRET_KEY
STRIPE_WEBHOOK_SECRET=whsec_CHANGE_THIS_TO_YOUR_WEBHOOK_SECRET

QUICKBOOKS_CLIENT_ID=CHANGE_THIS_TO_YOUR_QUICKBOOKS_CLIENT_ID
QUICKBOOKS_CLIENT_SECRET=CHANGE_THIS_TO_YOUR_QUICKBOOKS_CLIENT_SECRET

# =============================================================================
# AI & ANALYTICS CONFIGURATION
# =============================================================================

OPENAI_API_KEY=sk-CHANGE_THIS_TO_YOUR_OPENAI_API_KEY
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2000

ANALYTICS_BATCH_SIZE=500
ANALYTICS_FLUSH_INTERVAL=10000

# =============================================================================
# MONITORING & HEALTH CHECKS
# =============================================================================

HEALTH_CHECK_TIMEOUT=10000
HEALTH_CHECK_INTERVAL=60000

METRICS_ENABLED=true
METRICS_RETENTION_DAYS=90

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================

SSL_ENABLED=true
SSL_CERT_PATH=/app/ssl/cert.pem
SSL_KEY_PATH=/app/ssl/key.pem
SSL_CA_PATH=/app/ssl/ca.pem

FORCE_HTTPS=true

# =============================================================================
# CLOUD STORAGE (AWS S3)
# =============================================================================

AWS_ACCESS_KEY_ID=CHANGE_THIS_TO_YOUR_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=CHANGE_THIS_TO_YOUR_AWS_SECRET_KEY
AWS_REGION=us-east-1
AWS_S3_BUCKET=fieldsync-ai-prod-uploads

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

REQUEST_TIMEOUT=60000

CONNECTION_POOL_MIN=10
CONNECTION_POOL_MAX=100

CACHE_TTL=600
CACHE_MAX_SIZE=1000

# =============================================================================
# PRODUCTION SECURITY
# =============================================================================

TRUST_PROXY=true
SECURE_COOKIES=true
SAME_SITE_COOKIES=strict

# =============================================================================
# PRODUCTION PERFORMANCE
# =============================================================================

COMPRESSION_ENABLED=true
STATIC_CACHE_MAX_AGE=31536000

# =============================================================================
# PRODUCTION MONITORING
# =============================================================================

ERROR_REPORTING_ENABLED=true
PERFORMANCE_MONITORING_ENABLED=true

# =============================================================================
# ADDITIONAL PRODUCTION SETTINGS
# =============================================================================

# Cluster Configuration
CLUSTER_WORKERS=0

# Memory Limits
MAX_MEMORY_USAGE=1024

# Process Management
GRACEFUL_SHUTDOWN_TIMEOUT=30000
KEEP_ALIVE_TIMEOUT=65000

# Security Headers
HELMET_ENABLED=true
HSTS_MAX_AGE=31536000

# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_URI=https://api.fieldsync.ai/api/security/csp-report